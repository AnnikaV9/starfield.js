var e;e=function(){let e,t,i,n,s,o;let a={},r={numStars:250,baseSpeed:1,trailLength:.8,starColor:"rgb(255, 255, 255)",canvasColor:"rgb(0, 0, 0)",hueJitter:0,maxAcceleration:10,accelerationRate:.2,decelerationRate:.2,minSpawnRadius:80,maxSpawnRadius:500,auto:!0,originX:null,originY:null,container:null,originElement:null},l=[],h=!1,u=0,c=0,p=0,d=0,f=0,g=0,v=[0,0,0],m=r.canvasColor,y=()=>h=!0,x=()=>h=!1,b=()=>{var t,a;return t=o,a=s,void(i=t.clientWidth,n=t.clientHeight,e.width=i,e.height=n,c=E(a,t),p=w(a,t),l.forEach(e=>e.reset()))};function S(){"visible"===document.visibilityState&&(g=performance.now())}function w(e,t){let i=e.getBoundingClientRect(),n=t.getBoundingClientRect();return i.top-n.top+i.height/2}function E(e,t){let i=e.getBoundingClientRect(),n=t.getBoundingClientRect();return i.left-n.left+i.width/2}function M(){let e=L(0,2*Math.PI),t=L(r.minSpawnRadius,r.maxSpawnRadius);return new C(c+Math.cos(e)*t,p+Math.sin(e)*t)}class C{constructor(e,t){this.pos={x:e,y:t},this.prevpos={x:e,y:t},this.vel={x:0,y:0},this.angle=Math.atan2(t-p,e-c),this.baseSpeed=L(.5*r.baseSpeed,1.5*r.baseSpeed),this.hueOffset=L(-r.hueJitter,r.hueJitter)}reset(){let e=M();this.pos.x=e.pos.x,this.pos.y=e.pos.y,this.prevpos.x=this.pos.x,this.prevpos.y=this.pos.y,this.vel.x=0,this.vel.y=0,this.angle=Math.atan2(this.pos.y-p,this.pos.x-c),this.baseSpeed=L(.5*r.baseSpeed,1.5*r.baseSpeed),this.hueOffset=L(-r.hueJitter,r.hueJitter)}update(e,t){let i=e*this.baseSpeed;this.vel.x+=Math.cos(this.angle)*i*t,this.vel.y+=Math.sin(this.angle)*i*t,this.prevpos.x=this.pos.x,this.prevpos.y=this.pos.y,this.pos.x+=this.vel.x*t,this.pos.y+=this.vel.y*t}draw(){let e=Math.sqrt(this.vel.x*this.vel.x+this.vel.y*this.vel.y);t.lineWidth=(e-0)/10*2+1;let[i,n,s]=A(r.starColor),[o,a,l]=function(e,t,i){let n=Math.max(e/=255,t/=255,i/=255),s=Math.min(e,t,i),o,a,r=(n+s)/2;if(n===s)o=a=0;else{let l=n-s;switch(a=r>.5?l/(2-n-s):l/(n+s),n){case e:o=(t-i)/l+(t<i?6:0);break;case t:o=(i-e)/l+2;break;case i:o=(e-t)/l+4}o/=6}return[360*o,a,r]}(i,n,s),[h,u,c]=(function(e,t,i){let n,s,o;if(e/=360,0===t)n=s=o=i;else{let a=(e,t,i)=>(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?e+(t-e)*6*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e,r=i<.5?i*(1+t):i+t-i*t,l=2*i-r;n=a(l,r,e+1/3),s=a(l,r,e),o=a(l,r,e-1/3)}return[255*n,255*s,255*o]})((o+this.hueOffset+360)%360,a,l).map(e=>Math.round(e));t.strokeStyle=`rgba(${h}, ${u}, ${c}, ${(e-0)/10*1+0})`,t.beginPath(),t.moveTo(this.prevpos.x,this.prevpos.y),t.lineTo(this.pos.x,this.pos.y),t.stroke()}isActive(){var e,t;return e=this.pos.x,t=this.pos.y,e>=0&&e<=i&&t>=0&&t<=n}updateAngle(){this.angle=Math.atan2(this.pos.y-p,this.pos.x-c)}}function R(e){g||(g=e);let a=(e-g)/16.67;g=e,r.auto&&(c=E(s,o),p=w(s,o),(c!==d||p!==f)&&(l.forEach(e=>{e.updateAngle()}),d=c,f=p)),m!==r.canvasColor&&(v=A(r.canvasColor),m=r.canvasColor);let[y,x,b]=v;t.fillStyle=`rgba(${y}, ${x}, ${b}, ${1-r.trailLength})`,t.fillRect(0,0,i,n);let S=.01*(1+10*(u=h?Math.min(u+r.accelerationRate*a,r.maxAcceleration):Math.max(u-r.decelerationRate*a,0)));for(let e of l)e.update(S,a),e.draw(),e.isActive()||e.reset();requestAnimationFrame(R)}function L(e,t){return Math.random()*(t-e)+e}function A(e){let t=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);return t?[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]:[255,255,255]}return a.setup=function(a={}){if(Object.assign(r,a),!(o=r.container||document.querySelector(".starfield")))throw Error("Starfield: No container element found.");if(o.style.position="relative",i=o.clientWidth,n=o.clientHeight,(e=document.createElement("canvas")).width=i,e.height=n,e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.zIndex="-1",v=A(r.canvasColor),o.appendChild(e),t=e.getContext("2d"),r.auto){if(!(s=r.originElement||document.querySelector(".starfield-origin")))throw Error("Starfield: No origin element found.");c=E(s,o),p=w(s,o),s.addEventListener("mouseenter",y),s.addEventListener("mouseleave",x),window.addEventListener("resize",b)}else c=null!==r.originX?r.originX:i/2,p=null!==r.originY?r.originY:n/2;for(let e=0;e<r.numStars;e++){let e=M();l.push(e)}document.addEventListener("visibilitychange",S),requestAnimationFrame(R)},a.setAccelerate=function(e){h=e},a.setOrigin=function(e,t){c=e,p=t,l.forEach(e=>{e.angle=Math.atan2(e.pos.y-p,e.pos.x-c)})},a.setOriginX=function(e){c=e,l.forEach(e=>{e.angle=Math.atan2(e.pos.y-p,e.pos.x-c)})},a.setOriginY=function(e){p=e,l.forEach(e=>{e.angle=Math.atan2(e.pos.y-p,e.pos.x-c)})},a.resize=function(t,s){i=t,n=s,e.width=i,e.height=n,p=null!==r.originY?r.originY:n/2,l.forEach(e=>e.reset())},a.config=r,a.cleanup=function(){s&&(s.removeEventListener("mouseenter",y),s.removeEventListener("mouseleave",x)),window.removeEventListener("resize",b),document.removeEventListener("visibilitychange",S),e&&e.parentNode&&e.parentNode.removeChild(e),l=[],h=!1,u=0,c=0,p=0,d=0,f=0,g=0},a},"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():this.Starfield=e();